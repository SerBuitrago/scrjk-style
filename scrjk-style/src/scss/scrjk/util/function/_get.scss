@function getMap($map: (), $types:()){
    @if $map != $var-scrjk-txt-null{
        $aux: 1;
        $key: $map;
        @each $type in $types{
            @if $aux != -1{
                @if map-has-key($key, $type) {
                    $key: map-get($key, $type);
                    $aux: $aux + 1;
                }@else{
                    $aux: -1;
                }
            }
        }
        @if $aux != -1{
            @return $key;
        }@else{
            @error "Unknown `#{$types}` in `#{$map}`.";
        }
    }@else{
        @error "The map cannot be null.";
    }
    @return null;
}

@function getColor($color, $mode: $var-scrjk-txt-mode-light) {
    @if (lightness($color) > 50) {
      @return getMap($var-scrjk-json-color, (default, _black, $mode, value));
    } @else {
      @return  getMap($var-scrjk-json-color, (default, _white, $mode, value));
    }
}

@function getColorType($map: (), $key: "", $mode: $var-scrjk-txt-mode-light) {
    @debug $key;
    @if getMap($map, ($mode, bool, inside)){
        @return getMap($var-scrjk-json-color, (default, $key, $mode, value));
    }@else{
        @return getMap($map, ($mode, value));
    }
}